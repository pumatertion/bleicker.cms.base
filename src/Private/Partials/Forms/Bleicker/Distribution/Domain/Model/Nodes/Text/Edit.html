<fluid xmlns:dis="Bleicker\Distribution\ViewHelpers"
		xmlns:cms="Bleicker\Cms\ViewHelpers">
	<f:alias map="{systemLocale:'{cms:translation.systemLocale()}'}">
		<form class="form" action="/{systemLocale}/nodemanager/update/{node.id}" method="post">
			<fieldset>
				<legend>Update text properties</legend>
				<dis:validation.validationResults results="{validationException.results}" propertyPath="body">
					<f:if condition="{validationResults->f:count()}">
						<f:then>
							<div class="form-group has-error">
								<f:for each="{validationResults}" as="validationResult" iteration="iteration">
									<f:if condition="{0:iteration.cycle}=={0:1}">
										<label for="body">Body</label>
										<textarea class="form-control" id="body" name="body" rows="10"
												  placeholder="Please add your text">{validationResult.source}</textarea>
									</f:if>
									<label class="validation-property-error" for="body">{validationResult}</label>
								</f:for>
							</div>
						</f:then>
						<f:else>
							<div class="form-group">
								<label for="body">Body</label>
								<textarea class="form-control" id="body" name="body" rows="10"
										  placeholder="Please add your text">{node->cms:node.translate(propertyName:'body')}</textarea>
							</div>
						</f:else>
					</f:if>
				</dis:validation.validationResults>
				<div class="form-group">
					<f:render partial="Forms/Actions" arguments="{node:node}"/>
				</div>
			</fieldset>
		</form>
	</f:alias>
</fluid>

